private map!: L.Map;
  markers: CustomMarker[] = [];
  selectedSpot: FishingSpot | null = null;

  constructor(private fishingSpotService: FishingSpotService) {}

  ngOnInit() {
    this.fishingSpotService.getFishingSpots().subscribe(
      (response) => {
        const fishingSpots = response.data; // Assuming the fishing spots are under the 'data' key

        this.markers = fishingSpots.map(
          (spot) => new CustomMarker([spot.latitude, spot.longitude], { spot, icon: customIcon })
        );

        this.initializeMap();
        this.addMarkers();
        this.centerMap();
      },
      (error) => {
        console.error('Error fetching fishing spots:', error);
      }
    );
  }
